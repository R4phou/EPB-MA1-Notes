## Signal assignment
#signals
An #assignment can be seen as a "piece of wire" that is used to connect two or more pins, one source and one/or more sinks pins.
- If there is more than 1 sink pin, **FO > 1** (FanOut)

**Signal assignment** appears within the architecture specification of a module, after *begin* keyword and inside or outside a #process statement.
$$a < = b$$
Assignment statements define a **new driver** for the assigned signal:
- In the above assignment, *b* is the new driver for the signale *a*
- Driver could be an input or some internal signal generated by some logic.

#VHDL module can contain an **arbitrary number of assignments**.

Since any digital logic circuit is concurrent by nature, **all of these assignments should occur simultaneously**, that is **in** **parallel**. Here, z1 and z2 are evaluated in parallel.
![](Pasted%20image%2020231011104752.png)

Depending on what we are doing, the assignment *a <= b*  will have two different meanings:
- **Synthesis** - this is during actual circuit generation
	- Assignments will mean that b is **connected** to a
- **Simulation** - this is during logic circuit verification and using some SW simulation tool
	-  Assignment means that the value of b is **assigned** to the value of a.

$\to$ During **circuit (model) simulation** the **assignment** **is** **not** **done** **instantaneously**, **when the VHDL statement is issued**, but **at the end of a time window** in which the current VHDL module is being simulated.
### Signal assignment - the good way
Multiple assignments are allowed, but only if they target **different outputs**. In which case, they are performed **in concurrent fashion**.

Since the assignments are concurrent, the **order** in which the assignments are written in VHDL model is **irrelevant**.
 - This is because all assignments are "executed" at the "same time" (different computer clock cycles)
### Signal assignment - the wrong way
Several concurrent assignments could be applied to the same signal in an architecture. So multiple drivers can an will be created for that signal (tmp in the model below). It is acceptable from a syntax pov. But it is **very wrong**!
![](Pasted%20image%2020231011160313.png)
#### Simulation level
In the model and during simulation, there will be two drivers for one signal (2 sources, 1 sink). Therefore, we don't know the value of the output.
#resolution-function
When multiple drivers target the same output signal, a **resolution function** needs to be given to help the simulation tool which value to output. There are two options for this function:
- Use a *default resolution function* (std_logic $\to$ undefined value)
- Use a *custom resolution function*
#### Circuit level
The outputs of two AND gates are shorted! The voltage at the output will then depend on the **internal resistance** values of the transistors used to build the gates. So, in the real circuit the output value will be set to something between TRUE & FALSE depending on the voltage divider made by the above resistors.
## Signal assignment within a process
Multiple assignments to the same output are a little bit different when used within a **process**. Because *in a VHDL process*, *statements* are *processed sequentially* by the simulator. Therefore, **only the last assignment** will be taken into account during simulation.
![](Pasted%20image%2020231011105557.png)
It is **NOT LIKE SW**. Statement at line 6 will have no effet. Because process are treated sequentially by the simulator.

#combinatorial vs #sequential 
If concurrent (**combinatorial**) assignments target same output, the *value will be undefined during simulation*, and *at circuit level* it will be something *unpredictable*.
![](Pasted%20image%2020231011162400.png)
If concurrent (**sequential**) assignments (within a process) target same output, *only the last assignment will be taken into account*.![](Pasted%20image%2020231011162415.png)
## Signal assignment - general form
Here, we take into account the #timing and #delay. Before it was enough for **functional simulation** (interested in Boolean correctness only).

VHDL allows **definition of explicit delays** that can be added to the model and will be processed by the simulator to enable #timing #simulation of a circuit.
- #Inertial-delays : model the fact that **logic signals must have a stable value for a certain amount of time**; any change in the signal that is shorter than that amount of time will be considered as a #glitch â€“ *a non-desired short impulse*.
![](Pasted%20image%2020231011105953.png)
- #Transport-delay : model the fact that **both wires and gates have a certain delay**, that needs to be taken into account before observing the output. This allows to *avoid glitches.*
![](Pasted%20image%2020231011110014.png)![](Pasted%20image%2020231011162614.png)
